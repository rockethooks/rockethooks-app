<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Onboarding - RocketHooks</title>
    <style>
        :root {
            --background: 0 0% 100%;
            --foreground: 222.2 84% 4.9%;
            --card: 0 0% 100%;
            --card-foreground: 222.2 84% 4.9%;
            --primary: 246 80% 60%;
            --primary-foreground: 210 40% 98%;
            --secondary: 210 40% 96.1%;
            --secondary-foreground: 222.2 47.4% 11.2%;
            --muted: 210 40% 96.1%;
            --muted-foreground: 215.4 16.3% 46.9%;
            --accent: 210 40% 96.1%;
            --accent-foreground: 222.2 47.4% 11.2%;
            --destructive: 0 84.2% 60.2%;
            --destructive-foreground: 210 40% 98%;
            --success: 142 76% 36%;
            --success-foreground: 210 40% 98%;
            --border: 214.3 31.8% 91.4%;
            --input: 214.3 31.8% 91.4%;
            --ring: 221.2 83.2% 53.3%;
            --radius: 0.5rem;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            line-height: 1.5;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 1rem;
            overflow-x: hidden;
        }

        .onboarding-container {
            width: 100%;
            max-width: 600px;
            animation: fadeInUp 0.5s ease-out;
        }

        @keyframes fadeInUp {
            from {
                opacity: 0;
                transform: translateY(20px);
            }
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        .logo-section {
            text-align: center;
            margin-bottom: 2rem;
        }

        .logo-placeholder {
            width: 48px;
            height: 48px;
            background: hsl(var(--primary));
            border-radius: 8px;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--primary-foreground));
            font-weight: bold;
            font-size: 1.25rem;
        }

        .brand-title {
            font-size: 1.5rem;
            font-weight: 700;
            color: hsl(var(--foreground));
            margin-bottom: 0.5rem;
        }

        /* Progress Section */
        .progress-section {
            margin-bottom: 2rem;
        }

        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 0.5rem;
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: hsl(var(--muted));
            border-radius: 4px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: hsl(var(--primary));
            border-radius: 4px;
            transition: width 0.3s ease;
        }

        /* Card */
        .card {
            background: hsl(var(--card));
            border: 1px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 2rem;
            box-shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
        }

        .step-header {
            text-align: center;
            margin-bottom: 2rem;
        }

        .step-icon {
            width: 48px;
            height: 48px;
            background: hsl(var(--primary) / 0.1);
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--primary));
        }

        .step-title {
            font-size: 1.25rem;
            font-weight: 600;
            margin-bottom: 0.5rem;
        }

        .step-description {
            color: hsl(var(--muted-foreground));
            font-size: 0.875rem;
        }

        /* Form Elements */
        .form-group {
            margin-bottom: 1.5rem;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .form-label {
            display: block;
            font-size: 0.875rem;
            font-weight: 500;
            margin-bottom: 0.5rem;
            color: hsl(var(--foreground));
        }

        .form-input {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) - 2px);
            font-size: 0.875rem;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            transition: all 0.2s ease;
        }

        .form-input:focus {
            outline: none;
            ring: 2px;
            ring-color: hsl(var(--ring));
            ring-offset: 2px;
            border-color: hsl(var(--ring));
        }

        .form-description {
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            margin-top: 0.25rem;
        }

        .form-select {
            width: 100%;
            padding: 0.75rem;
            border: 1px solid hsl(var(--border));
            border-radius: calc(var(--radius) - 2px);
            font-size: 0.875rem;
            background: hsl(var(--background));
            color: hsl(var(--foreground));
            cursor: pointer;
        }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin: 1rem 0;
        }

        .checkbox {
            width: 1rem;
            height: 1rem;
            accent-color: hsl(var(--primary));
        }

        .checkbox-label {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        /* Preference Cards */
        .preference-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .preference-card {
            border: 2px solid hsl(var(--border));
            border-radius: var(--radius);
            padding: 1.5rem;
            cursor: pointer;
            transition: all 0.2s ease;
            text-align: center;
        }

        .preference-card:hover {
            border-color: hsl(var(--primary) / 0.5);
            background: hsl(var(--accent));
        }

        .preference-card.selected {
            border-color: hsl(var(--primary));
            background: hsl(var(--primary) / 0.05);
        }

        .preference-icon {
            width: 32px;
            height: 32px;
            background: hsl(var(--primary) / 0.1);
            border-radius: 50%;
            margin: 0 auto 1rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--primary));
        }

        .preference-card.selected .preference-icon {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .preference-title {
            font-weight: 500;
            margin-bottom: 0.5rem;
        }

        .preference-description {
            font-size: 0.875rem;
            color: hsl(var(--muted-foreground));
        }

        /* Buttons */
        .button {
            padding: 0.75rem 1.5rem;
            border: none;
            border-radius: calc(var(--radius) - 2px);
            font-size: 0.875rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.2s ease;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            min-height: 44px;
        }

        .button-primary {
            background: hsl(var(--primary));
            color: hsl(var(--primary-foreground));
        }

        .button-primary:hover:not(:disabled) {
            background: hsl(var(--primary) / 0.9);
        }

        .button-outline {
            background: transparent;
            color: hsl(var(--foreground));
            border: 1px solid hsl(var(--border));
        }

        .button-outline:hover {
            background: hsl(var(--accent));
        }

        .button:disabled {
            opacity: 0.5;
            cursor: not-allowed;
        }

        .button-group {
            display: flex;
            justify-content: space-between;
            gap: 1rem;
            margin-top: 2rem;
        }

        /* Completion Step Specific */
        .completion-content {
            text-align: center;
        }

        .success-icon {
            width: 64px;
            height: 64px;
            background: hsl(var(--success));
            border-radius: 50%;
            margin: 0 auto 1.5rem;
            display: flex;
            align-items: center;
            justify-content: center;
            color: hsl(var(--success-foreground));
            font-size: 1.5rem;
        }

        .completion-title {
            font-size: 1.5rem;
            font-weight: 600;
            margin-bottom: 1rem;
        }

        .completion-description {
            color: hsl(var(--muted-foreground));
            margin-bottom: 2rem;
        }

        .feature-list {
            list-style: none;
            margin: 1.5rem 0;
            text-align: left;
        }

        .feature-item {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1rem;
            padding: 0.75rem;
            background: hsl(var(--accent));
            border-radius: calc(var(--radius) - 2px);
        }

        .feature-icon {
            width: 20px;
            height: 20px;
            color: hsl(var(--success));
        }

        .loading-spinner {
            width: 16px;
            height: 16px;
            border: 2px solid transparent;
            border-top: 2px solid currentColor;
            border-radius: 50%;
            animation: spin 1s linear infinite;
        }

        @keyframes spin {
            to {
                transform: rotate(360deg);
            }
        }

        .draft-indicator {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            font-size: 0.75rem;
            color: hsl(var(--muted-foreground));
            margin-top: 1rem;
        }

        .draft-dot {
            width: 6px;
            height: 6px;
            background: hsl(var(--primary));
            border-radius: 50%;
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0%, 100% { opacity: 1; }
            50% { opacity: 0.5; }
        }

        @media (max-width: 640px) {
            .card {
                padding: 1.5rem;
            }
            
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .button-group {
                flex-direction: column;
            }
            
            .preference-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="onboarding-container">
        <!-- Logo Section -->
        <div class="logo-section">
            <div class="logo-placeholder">RH</div>
            <h1 class="brand-title">RocketHooks</h1>
        </div>

        <!-- Progress Section -->
        <div class="progress-section">
            <div class="progress-info">
                <span id="step-info">Step 1 of 4</span>
                <span id="progress-percent">25% Complete</span>
            </div>
            <div class="progress-bar">
                <div class="progress-fill" id="progress-fill" style="width: 25%"></div>
            </div>
        </div>

        <!-- Main Card -->
        <div class="card">
            <!-- Step 1: Organization Setup -->
            <div id="step-1" class="step-content">
                <div class="step-header">
                    <div class="step-icon">üè¢</div>
                    <h2 class="step-title">Set up your organization</h2>
                    <p class="step-description">Let's start by setting up your organization details</p>
                </div>

                <form id="org-form">
                    <div class="form-group">
                        <label for="orgName" class="form-label">Organization Name</label>
                        <input 
                            type="text" 
                            id="orgName" 
                            name="orgName" 
                            class="form-input" 
                            placeholder="Acme Inc." 
                            required
                        />
                        <div class="form-description">This is how your organization will appear in RocketHooks</div>
                    </div>

                    <div class="form-group">
                        <label for="orgDomain" class="form-label">Domain (Optional)</label>
                        <input 
                            type="text" 
                            id="orgDomain" 
                            name="orgDomain" 
                            class="form-input" 
                            placeholder="acme.com"
                        />
                        <div class="form-description">Used for automatic team member verification</div>
                    </div>

                    <div class="draft-indicator" style="display: none;" id="org-draft">
                        <div class="draft-dot"></div>
                        <span>Draft saved automatically</span>
                    </div>
                </form>
            </div>

            <!-- Step 2: Profile Setup -->
            <div id="step-2" class="step-content" style="display: none;">
                <div class="step-header">
                    <div class="step-icon">üë§</div>
                    <h2 class="step-title">Complete your profile</h2>
                    <p class="step-description">Tell us a bit about yourself and your role</p>
                </div>

                <form id="profile-form">
                    <div class="form-row">
                        <div class="form-group">
                            <label for="firstName" class="form-label">First Name</label>
                            <input 
                                type="text" 
                                id="firstName" 
                                name="firstName" 
                                class="form-input" 
                                placeholder="John" 
                                required
                            />
                        </div>

                        <div class="form-group">
                            <label for="lastName" class="form-label">Last Name</label>
                            <input 
                                type="text" 
                                id="lastName" 
                                name="lastName" 
                                class="form-input" 
                                placeholder="Doe" 
                                required
                            />
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="jobTitle" class="form-label">Job Title</label>
                        <input 
                            type="text" 
                            id="jobTitle" 
                            name="jobTitle" 
                            class="form-input" 
                            placeholder="Software Engineer" 
                            required
                        />
                    </div>

                    <div class="form-group">
                        <label for="teamSize" class="form-label">Team Size</label>
                        <select id="teamSize" name="teamSize" class="form-select" required>
                            <option value="">Select team size</option>
                            <option value="1">Just me</option>
                            <option value="2-5">2-5 people</option>
                            <option value="6-20">6-20 people</option>
                            <option value="21-50">21-50 people</option>
                            <option value="51+">51+ people</option>
                        </select>
                    </div>

                    <div class="draft-indicator" style="display: none;" id="profile-draft">
                        <div class="draft-dot"></div>
                        <span>Draft saved automatically</span>
                    </div>
                </form>
            </div>

            <!-- Step 3: Preferences -->
            <div id="step-3" class="step-content" style="display: none;">
                <div class="step-header">
                    <div class="step-icon">‚öôÔ∏è</div>
                    <h2 class="step-title">Set your preferences</h2>
                    <p class="step-description">Customize your RocketHooks experience</p>
                </div>

                <div class="form-group">
                    <label class="form-label">What's your primary use case?</label>
                    <div class="preference-grid">
                        <div class="preference-card" data-value="monitoring" onclick="selectPreference(this)">
                            <div class="preference-icon">üìä</div>
                            <div class="preference-title">API Monitoring</div>
                            <div class="preference-description">Monitor API health and performance</div>
                        </div>
                        <div class="preference-card" data-value="webhooks" onclick="selectPreference(this)">
                            <div class="preference-icon">üîó</div>
                            <div class="preference-title">Webhook Management</div>
                            <div class="preference-description">Manage and debug webhooks</div>
                        </div>
                        <div class="preference-card" data-value="both" onclick="selectPreference(this)">
                            <div class="preference-icon">üöÄ</div>
                            <div class="preference-title">Both</div>
                            <div class="preference-description">Full API and webhook solution</div>
                        </div>
                    </div>
                </div>

                <div class="form-group">
                    <label class="form-label">Notification Preferences</label>
                    <div class="checkbox-group">
                        <input type="checkbox" id="emailNotifs" name="emailNotifs" class="checkbox" checked />
                        <label for="emailNotifs" class="checkbox-label">Email notifications for critical issues</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="slackNotifs" name="slackNotifs" class="checkbox" />
                        <label for="slackNotifs" class="checkbox-label">Send notifications to Slack</label>
                    </div>
                    <div class="checkbox-group">
                        <input type="checkbox" id="weeklyReports" name="weeklyReports" class="checkbox" checked />
                        <label for="weeklyReports" class="checkbox-label">Weekly performance reports</label>
                    </div>
                </div>

                <div class="draft-indicator" style="display: none;" id="preferences-draft">
                    <div class="draft-dot"></div>
                    <span>Draft saved automatically</span>
                </div>
            </div>

            <!-- Step 4: Completion -->
            <div id="step-4" class="step-content" style="display: none;">
                <div class="completion-content">
                    <div class="success-icon">‚úÖ</div>
                    <h2 class="completion-title">Welcome to RocketHooks!</h2>
                    <p class="completion-description">
                        Your account is set up and ready to go. Here's what you can do next:
                    </p>

                    <ul class="feature-list">
                        <li class="feature-item">
                            <span class="feature-icon">üìä</span>
                            <span>Set up your first API monitoring endpoint</span>
                        </li>
                        <li class="feature-item">
                            <span class="feature-icon">üîó</span>
                            <span>Configure webhook destinations</span>
                        </li>
                        <li class="feature-item">
                            <span class="feature-icon">üë•</span>
                            <span>Invite team members to collaborate</span>
                        </li>
                        <li class="feature-item">
                            <span class="feature-icon">üìà</span>
                            <span>View detailed analytics and reports</span>
                        </li>
                    </ul>
                </div>
            </div>

            <!-- Button Group -->
            <div class="button-group">
                <button type="button" class="button button-outline" id="back-btn" onclick="previousStep()" disabled>
                    Back
                </button>
                <button type="button" class="button button-primary" id="next-btn" onclick="nextStep()">
                    <span id="next-text">Continue</span>
                    <div class="loading-spinner" id="next-spinner" style="display: none;"></div>
                </button>
            </div>
        </div>
    </div>

    <script>
        let currentStep = 1;
        const totalSteps = 4;
        let selectedPreference = null;

        // Form data storage
        let formData = {
            organization: {},
            profile: {},
            preferences: {}
        };

        function updateProgress() {
            const progressFill = document.getElementById('progress-fill');
            const stepInfo = document.getElementById('step-info');
            const progressPercent = document.getElementById('progress-percent');
            
            const percentage = (currentStep / totalSteps) * 100;
            
            progressFill.style.width = `${percentage}%`;
            stepInfo.textContent = `Step ${currentStep} of ${totalSteps}`;
            progressPercent.textContent = `${Math.round(percentage)}% Complete`;
        }

        function showStep(stepNumber) {
            // Hide all steps
            for (let i = 1; i <= totalSteps; i++) {
                document.getElementById(`step-${i}`).style.display = 'none';
            }
            
            // Show current step
            document.getElementById(`step-${stepNumber}`).style.display = 'block';
            
            // Update navigation buttons
            const backBtn = document.getElementById('back-btn');
            const nextBtn = document.getElementById('next-btn');
            const nextText = document.getElementById('next-text');
            
            backBtn.disabled = stepNumber === 1;
            
            if (stepNumber === totalSteps) {
                nextText.textContent = 'Get Started';
            } else {
                nextText.textContent = 'Continue';
            }
            
            updateProgress();
        }

        function validateCurrentStep() {
            switch (currentStep) {
                case 1:
                    const orgName = document.getElementById('orgName').value.trim();
                    return orgName.length > 0;
                
                case 2:
                    const firstName = document.getElementById('firstName').value.trim();
                    const lastName = document.getElementById('lastName').value.trim();
                    const jobTitle = document.getElementById('jobTitle').value.trim();
                    const teamSize = document.getElementById('teamSize').value;
                    return firstName && lastName && jobTitle && teamSize;
                
                case 3:
                    return selectedPreference !== null;
                
                case 4:
                    return true;
                
                default:
                    return false;
            }
        }

        function saveCurrentStepData() {
            switch (currentStep) {
                case 1:
                    formData.organization = {
                        name: document.getElementById('orgName').value.trim(),
                        domain: document.getElementById('orgDomain').value.trim()
                    };
                    break;
                
                case 2:
                    formData.profile = {
                        firstName: document.getElementById('firstName').value.trim(),
                        lastName: document.getElementById('lastName').value.trim(),
                        jobTitle: document.getElementById('jobTitle').value.trim(),
                        teamSize: document.getElementById('teamSize').value
                    };
                    break;
                
                case 3:
                    formData.preferences = {
                        useCase: selectedPreference,
                        emailNotifications: document.getElementById('emailNotifs').checked,
                        slackNotifications: document.getElementById('slackNotifs').checked,
                        weeklyReports: document.getElementById('weeklyReports').checked
                    };
                    break;
            }
            
            // Save to localStorage as draft
            localStorage.setItem('rocketHooksOnboardingDraft', JSON.stringify(formData));
            showDraftIndicator(currentStep);
        }

        function showDraftIndicator(step) {
            const draftElements = {
                1: 'org-draft',
                2: 'profile-draft',
                3: 'preferences-draft'
            };
            
            const element = document.getElementById(draftElements[step]);
            if (element) {
                element.style.display = 'flex';
                setTimeout(() => {
                    element.style.display = 'none';
                }, 3000);
            }
        }

        function nextStep() {
            if (!validateCurrentStep()) {
                alert('Please complete all required fields before continuing.');
                return;
            }
            
            const nextBtn = document.getElementById('next-btn');
            const nextText = document.getElementById('next-text');
            const nextSpinner = document.getElementById('next-spinner');
            
            // Show loading for last step
            if (currentStep === totalSteps) {
                nextText.style.display = 'none';
                nextSpinner.style.display = 'block';
                nextBtn.disabled = true;
                
                setTimeout(() => {
                    // Clear draft data
                    localStorage.removeItem('rocketHooksOnboardingDraft');
                    
                    // Simulate API call to save data
                    console.log('Onboarding data:', formData);
                    
                    alert('Onboarding complete! Redirecting to dashboard...');
                    // In real app, redirect to dashboard
                }, 2000);
                return;
            }
            
            saveCurrentStepData();
            currentStep++;
            showStep(currentStep);
        }

        function previousStep() {
            if (currentStep > 1) {
                currentStep--;
                showStep(currentStep);
            }
        }

        function selectPreference(card) {
            // Remove selected class from all cards
            document.querySelectorAll('.preference-card').forEach(c => {
                c.classList.remove('selected');
            });
            
            // Add selected class to clicked card
            card.classList.add('selected');
            selectedPreference = card.dataset.value;
        }

        // Auto-save functionality
        function setupAutoSave() {
            const inputs = document.querySelectorAll('input, select');
            inputs.forEach(input => {
                input.addEventListener('input', () => {
                    setTimeout(() => {
                        saveCurrentStepData();
                    }, 1000); // Debounce
                });
            });
        }

        // Load draft data if available
        function loadDraftData() {
            const draft = localStorage.getItem('rocketHooksOnboardingDraft');
            if (draft) {
                try {
                    const data = JSON.parse(draft);
                    
                    // Load organization data
                    if (data.organization) {
                        document.getElementById('orgName').value = data.organization.name || '';
                        document.getElementById('orgDomain').value = data.organization.domain || '';
                    }
                    
                    // Load profile data
                    if (data.profile) {
                        document.getElementById('firstName').value = data.profile.firstName || '';
                        document.getElementById('lastName').value = data.profile.lastName || '';
                        document.getElementById('jobTitle').value = data.profile.jobTitle || '';
                        document.getElementById('teamSize').value = data.profile.teamSize || '';
                    }
                    
                    // Load preferences
                    if (data.preferences) {
                        selectedPreference = data.preferences.useCase;
                        if (selectedPreference) {
                            const card = document.querySelector(`[data-value="${selectedPreference}"]`);
                            if (card) card.classList.add('selected');
                        }
                        
                        document.getElementById('emailNotifs').checked = data.preferences.emailNotifications !== false;
                        document.getElementById('slackNotifs').checked = data.preferences.slackNotifications || false;
                        document.getElementById('weeklyReports').checked = data.preferences.weeklyReports !== false;
                    }
                    
                    formData = data;
                } catch (e) {
                    console.error('Failed to load draft data:', e);
                }
            }
        }

        // Initialize
        document.addEventListener('DOMContentLoaded', function() {
            showStep(currentStep);
            setupAutoSave();
            loadDraftData();
            
            // Focus first input
            document.getElementById('orgName').focus();
        });

        // Keyboard navigation
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Enter' && e.ctrlKey) {
                nextStep();
            } else if (e.key === 'Escape') {
                previousStep();
            }
        });

        // Show welcome message for returning users
        if (localStorage.getItem('rocketHooksOnboardingDraft')) {
            setTimeout(() => {
                if (confirm('Welcome back! We found a saved draft. Would you like to continue where you left off?')) {
                    // Draft data is already loaded
                } else {
                    localStorage.removeItem('rocketHooksOnboardingDraft');
                    location.reload();
                }
            }, 500);
        }
    </script>
</body>
</html>